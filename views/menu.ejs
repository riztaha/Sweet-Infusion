<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Menu</title>

    <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" type="text/css" />
    <link rel="stylesheet" href="/vendor/border-box.css" type="text/css" />
    <link rel="stylesheet" href="/styles/layout.css" type="text/css" />
    <link rel="stylesheet" href="/styles/nav.css" type="text/css" />
    <link rel="stylesheet" href="/styles/header.css" type="text/css" />
    <link rel="stylesheet" href="/styles/main_index.css" type="text/css" />
    <link rel="stylesheet" href="/styles/footer.css" type="text/css" />
    <link rel="stylesheet" href="/styles/menu.css" type="text/css" />
    <link rel="stylesheet" id="fontawesome_css-css" href="//use.fontawesome.com/releases/v5.9.0/css/all.css?ver=5.4.1" type="text/css" media="all">
    <!-- googleFonts -->
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@200;500&family=Varela+Round&display=swap" rel="stylesheet">


    <!-- <script type="text/javascript" src="db/queries/queries.js"></script> -->
    <script type="text/javascript" src="/vendor/jquery-3.0.0.js"></script>
    <script type="text/javascript" src="/scripts/app.js"></script>
  </head>

  <body>
    <nav>
      <div class="nav wrapper">
        <a href="/"><img class="logo" src="images/logo.png" alt="logo image"></a>

        <div>
          <a href="/menu"><h4>Menu</h4></a>
          <a href="/cart"><h4 class="cart">Cart</h4></a>
        </div>
      </div>
    </nav>
    <!-- Main menu starts here -->
    <h2 class="menu_heading">Menu</h2>
    <main class=" flex wrapper">

      <!-- Menu List starts here -->
      <ul>
        <% for(let i = 0; i < menu_items.length; i ++) { %>
        <li class="menu_container quantity">
          <!-- use index (repeater) instead of hardcoding numbers -->
          <img class="image_home image_menu" src="<%=menu_items[i].photo%>" alt="Item Image">
          <div class='dish-card'>
            <h5><%=menu_items[i].name%></h5>
            <p><%=menu_items[i].description%></p>
            <h6>Approx. Prep Time: <%= menu_items[i].prep_time %> minutes</h6>
            <div id="<%=menu_items[i].id%>">
              <span class="price">$<%=(menu_items[i].price/100).toFixed(2)%></span>
              <button class="add_to_cart" data-prep_time="<%= menu_items[i].prep_time %>" data-name="<%=menu_items[i].name%>" data-price="<%=(menu_items[i].price/100).toFixed(2)%>"> Add</button>
              <!-- add button 'add to cart' with class name add -->
            </div>
          </div>
        </li>
        <% } %>
      </ul>


      <!-- section 2 Aside for order -->
      <section class="aside_order">
          <form id="order_form" action="/cart" method="POST">
            <div>
              <!-- <input style="display: none;" type="text" name="menu_items" value="<%=menu_items%>"> -->
              <!-- <input style="display: none;" type="text" name="item_price" value="<%=menu_items[1].price%>"> -->
                <!-- <input style="display: none;" type="text" name="item_prep_time" value="<%=menu_items[1].prep_time%> THE PREP TIME"> -->
              </div>
            <!-- create dynamic items using repeater -->
            <!-- hidden input fields, as they are the only things transmitted during post -->
            <!-- I've added the below to app.js so it is dynamic. However the prep time is showing undefined. -->
            <!-- <div>
              <input style="display: none;" type="text" name="item_name" value="<%=menu_items[0].name%>">
              <input style="display: none;" type="text" name="item_price" value="<%=menu_items[0].price%>">
              <input style="display: none;" type="text" name="item_prep_time" value="<%=menu_items[0].prep_time%>">
            </div>
            <div>
              <input style="display: none;" type="text" name="item_name" value="<%=menu_items[2].name%>">
              <input style="display: none;" type="text" name="item_price" value="<%=menu_items[2].price%>">
              <input style="display: none;" type="text" name="item_prep_time" value="<%=menu_items[2].prep_time%>">
            </div> -->
            <h2>Your New Order Takeout</h2>
          <div id="cart-container"></div>
          <!-- order total placed here -->
          <hr>
          <h3 class="total_amount">Total: $<%- (menu_items[1].price/100 + menu_items[1].price/100).toFixed(2)%></h3>
          <h3 class="total_amount tax_total_amount">Order Total <span class="tax">(Incl. Tax:13%) </span>:$ 15.13</h3>
          <hr>
          <button type="submit" class="checkout">Checkout</button>
          </form>
        </aside>
      </section>

      <!-- end of section 2 -->
    </main>
      <!-- footer section -->

    <footer>
      <section class="wrapper footer">
        <p>&copy Sweet Infusion 2020 All Rights Reserved</p>
        <div class="media">
          <span class="follow">Follow Us on</span>
          <a href="https://www.instagram.com/accounts/login/?hl=en"><span class="fab fa-instagram"> </span></a>
          <a href="https://www.facebook.com"><span class="fab fa-facebook"></span></a>
        </div>
      </section>
    </footer>

  </body>
</html>
